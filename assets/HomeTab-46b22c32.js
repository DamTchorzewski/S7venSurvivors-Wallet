import{r as p,j as s,u as f,o as L,q as $,t as v,v as T,M as I,B as _}from"./index-ac148e25.js";import{n as g}from"./index.browser-7e542916.js";const y={},V="_ico_q4d5j_1",P={ico:V},W="/S7venSurvivors-Wallet/assets/pen-e154585a.svg",d={},C={},D=({placeholder:e,onClick:c})=>{const u=[{category:"Main expenses"},{category:"Products"},{category:"Car"},{category:"Self care"},{category:"Child care"},{category:"Household products"},{category:"Education"},{category:"Leisure"},{category:"Entertainment"},{category:"Other expenses"}],[n,a]=p.useState(!1),[r,l]=p.useState(`${e}`),m=()=>{a(!n)},t=h=>{const j=h.innerText;return l(j),a(!n),c(j),j};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:C.wrapper,children:[s.jsx("div",{onClick:m,className:C.selectBtn,children:s.jsx("span",{children:r})}),n&&s.jsx("div",{className:C.optionsContainer,children:s.jsx("ul",{className:C.options,children:u.map(({category:h})=>s.jsx("li",{onClick:j=>t(j.target),className:C.option,children:s.jsx("span",{children:h})},g()))})})]}),n&&s.jsx("div",{className:C.backdrop,onClick:m,children:"a"})]})},q=({type:e,onClose:c,id:i,updateDashboard:u})=>{const n=f(),[a,r]=p.useState(),l=t=>{const h=t.target.value.toString(),j=h.substr(8,2),x=h.substr(5,2),N=h.substr(0,4);r({...a,date:{day:j,month:x,year:N},id:i})},m=t=>{t.preventDefault();const h=a.id;n(L({id:h,body:a})),u(a),c()};return s.jsxs("div",{className:d.modalWrapper,children:[s.jsxs("section",{className:d.wrapper,children:[s.jsx("h2",{className:d.header,children:"Edit transaction"}),s.jsxs("div",{className:d.sliderContainer,children:[e==="+"?s.jsx("span",{className:d.greenText,children:"Income"}):s.jsx("span",{className:d.greyText,children:"Income"}),s.jsx("span",{className:d.greyText,children:"/"}),e==="+"?s.jsx("span",{className:d.greyText,children:"Expense"}):s.jsx("span",{className:d.redText,children:"Expense"})]}),s.jsx("form",{onSubmit:m,className:d.Form,children:s.jsx("section",{className:d.modalForm,children:s.jsxs("label",{name:"addTransForm",children:[e==="+"?s.jsx(s.Fragment,{}):s.jsx(D,{onClick:t=>r({...a,category:t,id:i}),placeholder:"Select a category"}),s.jsxs("div",{className:d.formWrapper,children:[s.jsx("input",{type:"number",name:"sum",onChange:t=>r({...a,sum:t.target.value,id:i}),placeholder:"0.00",className:d.formValue}),s.jsx("input",{type:"date",name:"date",onChange:l,className:d.formDate})]}),s.jsx("input",{type:"text",placeholder:"Comment",name:"comment",onChange:t=>r({...a,comment:t.target.value,id:i}),className:d.formComment}),s.jsx("ul",{className:d.modalList,children:s.jsx("li",{children:s.jsx("button",{className:d.closeButton,onClick:c})})})]})})})]}),s.jsx("div",{className:d.shadow,onClick:c})]})},E=({id:e,type:c,updateDashboard:i})=>{const[u,n]=p.useState(!1),a=()=>{n(!0)},r=l=>{l&&l.preventDefault(),n(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("img",{className:P.ico,src:W,alt:"edit",onClick:a}),u&&s.jsx(q,{type:c,id:e,onClose:r,updateDashboard:i})]})},A="_addButton_19xvi_4",Y={addButton:A},o={},H=({onCancel:e,onClose:c,onSubmit:i,onChangeValue:u,onChangeDate:n,onChangeComment:a,onChangeCategory:r,onChangeSliderPlus:l,onChangeSliderMinus:m})=>{const[t,h]=p.useState(!0),j=N=>h(!t),x=N=>{r(N)};return s.jsxs("div",{className:o.modalWrapper,children:[s.jsxs("section",{className:o.wrapper,children:[s.jsx("h2",{className:o.header,children:"Add transaction"}),s.jsxs("div",{className:o.sliderContainer,children:[t?s.jsx("span",{className:o.greyText,children:"Income"}):s.jsx("span",{className:o.greenText,children:"Income"}),s.jsxs("label",{className:o.switch,children:[s.jsx("input",{type:"checkbox",className:o.checkbox,name:"slider",value:t?"-":"+",onChange:t?l:m,onClick:j}),s.jsx("span",{className:o.slider})]}),t?s.jsx("span",{className:o.redText,children:"Expense"}):s.jsx("span",{className:o.greyText,children:"Expense"})]}),s.jsx("section",{className:o.modalForm,children:s.jsxs("form",{onSubmit:i,className:o.Form,children:[t?s.jsx(D,{onClick:x,placeholder:"Select a category"}):s.jsx(s.Fragment,{}),s.jsxs("div",{className:o.formWrapper,children:[s.jsx("input",{type:"number",name:"number",onChange:u,placeholder:"0.00",className:o.formValue}),s.jsx("input",{type:"date",name:"date",onChange:n,className:o.formDate})]}),s.jsx("textarea",{type:"textarea",maxLength:"100",name:"comment",onChange:a,placeholder:"Comment",className:o.formComment}),s.jsx("ul",{className:o.modalList,children:s.jsx("li",{children:s.jsx("button",{className:o.closeButton,onClick:c})})})]})})]}),s.jsx("div",{className:o.shadow,onClick:c})]})},O=()=>{const e=new Date().getDate();return e<10?`0${e}`:e},G=()=>{const e=new Date().getMonth()+1;return e<10?`0${e}`:e},S=e=>{const c=parseInt(e.day);return c<10?`0${c}`:c},M=e=>{const c=parseInt(e.month);return c<10?`0${c}`:c},F=e=>e.year.substr(2,2),R=()=>{const e=new Date().getFullYear();return console.log(e),e},b=({addDashboard:e})=>{const c=f(),[i,u]=p.useState(!1),[n,a]=p.useState(),r=x=>{const N=x.target.value.toString(),k=N.substr(8,2),w=N.substr(5,2),B=N.substr(0,4);a({...n,date:{day:k,month:w,year:B}})},l=()=>{a({type:"-",category:"Other expenses",date:{day:O(),month:G(),year:R()}}),u(!0)},m=x=>{x&&x.preventDefault(),a({}),u(!1)},t=()=>a({...n,type:"+",category:"Income"}),h=()=>a({...n,type:"-"}),j=x=>{x.preventDefault(),c($(n)),e(n),u(!i)};return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:l,className:Y.addButton}),i&&s.jsx(H,{onSubmit:j,onCancel:m,onClose:m,onChangeSliderPlus:t,onChangeSliderMinus:h,onChangeValue:x=>a({...n,sum:x.target.value}),onChangeDate:r,onChangeComment:x=>a({...n,comment:x.target.value}),onChangeCategory:x=>a({...n,category:x})})]})},z=()=>{const{transactions:e,isTransactionsLoading:c}=v(),[i,u]=p.useState([]),n=f();p.useEffect(()=>{n(T())},[n]),p.useEffect(()=>{u(e)},[e]);const a=r=>{const l=parseFloat(r),m={useGrouping:!0,minimumFractionDigits:2,maximumFractionDigits:2};return l.toLocaleString("pl-PL",m).replace(/,/g,".")};return s.jsx(s.Fragment,{children:i.length?s.jsxs(s.Fragment,{children:[s.jsxs("table",{className:y.dashboardClass,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Category"}),s.jsx("th",{children:"Comment"}),s.jsx("th",{children:"Sum"}),s.jsx("th",{})]})}),s.jsx("tbody",{className:y.dashboardClassBody,children:i.map(({_id:r,date:l,type:m,category:t,comment:h,sum:j})=>s.jsxs("tr",{children:[s.jsxs("td",{children:[S(l),".",M(l),".",F(l)]}),s.jsx("td",{children:m}),s.jsx("td",{children:t}),s.jsx("td",{children:h}),m=="+"?s.jsx("td",{className:y.green,children:a(j)}):s.jsx("td",{className:y.red,children:a(j)}),s.jsx("td",{children:s.jsx("span",{className:y.buttonContainer,children:s.jsx(E,{id:r,type:m})})})]},r??g()))})]}),s.jsx(b,{})]}):c?null:s.jsx("div",{className:y.dashboardClass,children:s.jsx("h2",{children:"There are no transactions"})})})},J=()=>{const{transactions:e,isTransactionsLoading:c}=v(),[i,u]=p.useState([]),n=f();return p.useEffect(()=>{n(T())},[n]),p.useEffect(()=>{u(e)},[e]),s.jsx(s.Fragment,{children:i.length?s.jsx("div",{className:css.wrapper,children:i.map(({_id:a,date:r,type:l,category:m,comment:t,sum:h})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:css.element,children:s.jsxs("ul",{className:l==="+"?css.greenElementList:css.redElementList,children:[s.jsxs("li",{className:css.listElement,children:[s.jsx("span",{className:css.listElementTitle,children:"Date"}),s.jsxs("span",{children:[S(r),".",M(r),".",F(r)]})]},g()),s.jsxs("li",{className:css.listElement,children:[s.jsx("span",{className:css.listElementTitle,children:"Type"}),s.jsx("span",{children:l})]},g()),s.jsxs("li",{className:css.listElement,children:[s.jsx("span",{className:css.listElementTitle,children:"Category"}),s.jsx("span",{children:m})]},g()),s.jsxs("li",{className:css.listElement,children:[s.jsx("span",{className:css.listElementTitle,children:"Comment"}),s.jsx("span",{children:t.length>15?t.substr(0,15)+"...":t})]},g()),s.jsxs("li",{className:css.listElement,children:[s.jsx("span",{className:css.listElementTitle,children:"Sum"}),s.jsx("span",{className:l==="+"?css.green:css.red,children:h})]},g()),s.jsx("li",{className:css.listElement,children:s.jsxs("ul",{className:css.editList,children:[s.jsx("li",{children:s.jsx(E,{id:a,type:l})}),s.jsx("li",{children:s.jsx("span",{children:"Edit"})})]})},g())]})},a??g()),s.jsx(b,{})]}))}):c?null:s.jsx("div",{children:s.jsx("h2",{children:"There are no transactions"})})})},K="_homeContainer_3vnju_1",Q={homeContainer:K},Z=()=>s.jsxs("div",{className:Q.homeContainer,children:[s.jsx(I,{queries:{small:"(max-width: 767px)",medium:"(min-width: 768px)"},children:e=>s.jsxs(p.Fragment,{children:[e.small&&s.jsx(_,{}),e.small&&s.jsx(J,{}),e.medium&&s.jsx(z,{})]})}),s.jsx(b,{})]});export{Z as default};
